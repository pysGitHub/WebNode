<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set & Map 集合</title>
</head>

<body>

</body>

<script>
    /*
    Set集合类似于数组(不能使用数组的取值方法: array[index]), 但成员的值都是唯一的, 集合实现了iterator接口。
    Set本身是一个构造函数，用来生成 Set 数据结构。
    Set 常用方法:
    size 返回集合的元素个数
    add 向集合中添加一个元素,并返回添加元素以后的集合;
    delete 删除集合中的元素, 返回的是boolean 值; 删除集合中的元素, 返回true; 否则 返回false;
    has 判断集合是否存在某个元素, 返回 boolean值;
    clear 清空Set集合, 返回 undefined;
    values() 获取Set集合的所有值;
    keys() 获取Set集合的所有键;
    注意: 
    由于 Set 结构没有键名，只有键值（或者说键名和键值是同一个值）,
    所以keys方法和values方法的行为完全一致。
    */

    const array1 = [1, 2, 3, 4, 5, 6, 1, 'a', 'hh'];
    const array2 = [4, 5, 6, 1, 'a', '哈哈'];

    // 数组去重
    const arr0 = [...new Set(array1)];
    console.log(arr0);

    // 求数组交集
    const arr1 = [...new Set(array1)].filter(item => new Set(array2).has(item));
    console.log(arr1);

    // 求数组差(array1 -(array1和array2的交集))
    const arr2 = [...new Set(array1)].filter(item => !(new Set(array2).has(item)));
    console.log(arr2);

    // 求数组并集
    const arr3 = [...new Set([...array1, ...array2])];
    console.log(arr3);

    const aa = new Set([...array1, ...array2]);
    console.log(aa);
    console.log(aa.clear());





    /*
    Map它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，
    各种类型的值（包括对象）都可以当作键。
    Map 本身是一个构造函数，用来生成 Set 数据结构。
    Map 常用方法:
    size 返回 Map 的元素个数;
    set 增加一个新的元素, 并返回最新的Map;
    get 返回键对应的值;
    has 检测 Map 数据中是否包含某个元素, 返回 boolean 值;
    clear 清空Map集合, 返回 undefined
    */

    // 创建对象
    let map = new Map();
    
    // 添加元素
    map.set('abc', '123');

    fn = function (params) {
        return 1;
    }
    map.set(fn, '函数');
    map.set('key', 'value');

    // 返回 Map 的元素个数
    console.log(map.size); // 3

    // 删除元素
    map.delete('key');
    console.log(map); // {'abc' => '123', ƒ => '函数'}

    // 检测是否含有某个元素
    console.log(map.has('abc')); // true
    
    // 清空map
    console.log(map.clear()); // undefined


</script>

</html>